package org.meteorite.com.base.util;

import com.alibaba.fastjson.JSONObject;
import org.meteorite.com.dto.TagDeviceDto;

import java.util.HashSet;
import java.util.Set;
import java.util.stream.Collectors;

/**
 * @author EX_052100260
 * @title: TempUtil
 * @projectName huolongguo-storehouse
 * @description: TODO
 * @date 2020-9-4 10:38
 */
public class TempUtil {

    public static String str = " {\"init\":true,\"phone\":\"17374415427\",\"registrationId\":\"191e35f7e0c5c48bf94\",\"tagAdd\":[\"PB8424864174086468983\",\"PB6427578295524466521\",\"PB815763515753030025\",\"LV\",\"LV1270919700972400642\",\"LV1270921761717809154\",\"LV1270896451299373058\",\"LV1270911624693215234\",\"PB8946679101048297030\",\"LV1271692912257683458\",\"LV1270919611356868609\",\"CL440300\",\"PB1273095821755191298\",\"LV1273443113234370562\",\"PB7911396775702210400\",\"LV1272876638325035009\",\"PB1274267685772853250\",\"PB3382235821078787336\",\"PB1277792888792563713\",\"LV1275583553656086529\",\"LV1273175109242228738\",\"LV1273423817368174593\",\"LV1270241457520791553\",\"PB1270622309668896770\",\"PB128597179200336052\",\"CS445100\",\"CP110100\",\"PB1273922906782490626\",\"PB252420440276266883\",\"LV1274966089431818241\",\"LV1273866006351110146\",\"PB1270919611356868609\",\"PB1273452069939843074\",\"LV1270895881683562498\",\"PB5630923040657873783\",\"LV1275312452518547457\",\"LV1271711635400069121\",\"PB1273111866427580418\",\"PB1069830350629113868\",\"PB7851698956790748734\",\"LV1270918844487102466\",\"GF\",\"PB1272782521444110338\",\"PB1269905307690168322\",\"LV1275681571076046849\",\"LV1273909420127997953\",\"PB1273920270339461121\",\"LV1275624395162890242\",\"PB1270661065734144002\",\"LV1272357051971969026\",\"PB1274265666949480450\",\"PB2095870698302761477\",\"LV1273156227597119489\",\"UT5\",\"UL1\"]}";

    public static void main(String[] args) {

        TagDeviceDto tagDeviceDto = JSONObject.parseObject(str, TagDeviceDto.class);
        Set<String> tagAdd = tagDeviceDto.getTagAdd();
        Set<String> temp = new HashSet<>();
        temp.addAll(tagAdd);
        Set<String> lv = temp.stream().filter(e -> e.startsWith("LV")).collect(Collectors.toSet());
        Set<String> pb = temp.stream().filter(e -> e.startsWith("PB")).collect(Collectors.toSet());
        System.out.println(lv);
        System.out.println(pb);
        temp.removeAll(lv);
        System.out.println(temp);
        temp.removeAll(pb);
        System.out.println(temp);
        System.out.println(tagAdd);


        String test = "[\"PB8424864174086468983\",\"PB6427578295524466521\",\"PB815763515753030025\",\"LV\",\"LV1270919700972400642\",\"LV1270921761717809154\",\"LV1270896451299373058\",\"LV1270911624693215234\",\"PB8946679101048297030\",\"LV1271692912257683458\",\"LV1270919611356868609\",\"CL440300\",\"PB1273095821755191298\",\"LV1273443113234370562\",\"PB7911396775702210400\",\"LV1272876638325035009\",\"PB1274267685772853250\",\"PB3382235821078787336\",\"PB1277792888792563713\",\"LV1275583553656086529\",\"LV1273175109242228738\",\"LV1273423817368174593\",\"LV1270241457520791553\",\"PB1270622309668896770\",\"PB128597179200336052\",\"CP110100\",\"PB1273922906782490626\",\"PB252420440276266883\",\"LV1274966089431818241\",\"LV1273866006351110146\",\"PB1270919611356868609\",\"PB1273452069939843074\",\"LV1270895881683562498\",\"PB5630923040657873783\",\"LV1275312452518547457\",\"LV1271711635400069121\",\"PB1273111866427580418\",\"PB1069830350629113868\",\"PB7851698956790748734\",\"LV1270918844487102466\",\"GF\",\"PB1272782521444110338\",\"PB1269905307690168322\",\"LV1275681571076046849\",\"LV1273909420127997953\",\"PB1273920270339461121\",\"LV1275624395162890242\",\"PB1270661065734144002\",\"LV1272357051971969026\",\"CS440300\",\"PB1274265666949480450\",\"PB2095870698302761477\",\"LV1273156227597119489\",\"UT5\",\"UL1\"]";
        System.out.println(test.length());

    }


}
